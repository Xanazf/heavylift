.text-field {
  --field-container-color: var(--hl-surfacecontainerhighest);
  --field-content-color: var(--hl-onsurface);
  --field-label-color: var(--hl-onsurfacevariant);
  --field-indicator-color: var(--hl-onsurfacevariant);
  --field-cursor-color: var(--hl-primary);
  
  /* LiftKit Sizing (Manual fix for non-standard scaling) */
  --field-height: calc(1em * 1.618 * 2.618); /* ~56px eq (xl * scaleFactor) */
  --field-padding-x: var(--lg);
  --field-radius: var(--xs);
  
  display: flex;
  position: relative;
  width: 100%;
  border-radius: var(--field-radius) var(--field-radius) 0 0;
  background-color: var(--field-container-color);
  box-sizing: border-box;
  
  border-bottom: 1px solid var(--field-indicator-color);
  
  transition: background-color 200ms ease;
}

.text-field.filled {
}
.text-field.filled:hover {
  background-color: var(--hl-surfacecontainerhigh);
}
.text-field.filled::after {
  content: "";
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background-color: var(--hl-primary);
  transform: scaleX(0);
  transition: transform 200ms cubic-bezier(0.2, 0, 0, 1);
  transform-origin: center;
}
.text-field.filled:focus-within::after {
  transform: scaleX(1);
}

.text-field.outlined {
  background-color: transparent;
  border: 1px solid var(--hl-outline);
  border-radius: var(--field-radius);
  --field-padding-x: var(--lg);
}
.text-field.outlined:hover {
  border-color: var(--hl-onsurface);
}
.text-field.outlined:focus-within {
  border-color: var(--hl-primary);
  box-shadow: 0 0 0 1px var(--hl-primary);
}

.text-field input,
.text-field textarea,
.text-field select {
  width: 100%;
  height: 100%;
  padding: 1.5em var(--field-padding-x) 0.5em;
  border: none;
  background: transparent;
  color: var(--field-content-color);
  font-family: inherit;
  font-size: 1em;
  caret-color: var(--field-cursor-color);
  outline: none;
}

.text-field-label {
  position: absolute;
  left: var(--field-padding-x);
  top: 50%;
  transform: translateY(-50%);
  color: var(--field-label-color);
  font-size: 1em;
  pointer-events: none;
  transition: 
    transform 200ms cubic-bezier(0.2, 0, 0, 1),
    color 200ms,
    font-size 200ms;
}

.text-field:focus-within .text-field-label,
.text-field input:not(:placeholder-shown) + .text-field-label,
.text-field select:valid + .text-field-label,
.text-field.has-value .text-field-label {
  transform: translateY(-100%) scale(0.75);
  color: var(--hl-primary);
  top: 1.4em;
  left: var(--field-padding-x);
  transform-origin: top left;
}

.text-field.outlined:focus-within .text-field-label,
.text-field.outlined input:not(:placeholder-shown) + .text-field-label {
  background-color: var(--hl-surface);
  padding-inline: 4px;
  transform: translateY(-190%) scale(0.75);
  top: 50%;
}

.text-field.error {
  --field-indicator-color: var(--hl-error);
  --field-label-color: var(--hl-error);
  --field-cursor-color: var(--hl-error);
}
.text-field.error:focus-within::after {
  background-color: var(--hl-error);
}
.text-field.outlined.error {
  border-color: var(--hl-error);
  box-shadow: 0 0 0 1px var(--hl-error);
}

.text-field-support {
  padding-left: var(--field-padding-x);
  font-size: var(--caption-font-size);
  color: var(--hl-onsurfacevariant);
  margin-top: 0.25em;
}
.text-field.error + .text-field-support {
  color: var(--hl-error);
}
